{"ast":null,"code":"var _jsxFileName = \"/run/media/pearlquest/DATA/rezdyV2/rezdy-ksa/src/Components/VisitorDetail.tsx\";\nimport React, { Component } from \"react\";\nimport { MdExpandMore } from \"react-icons/md\";\nimport { FaAsterisk } from \"react-icons/fa\";\nimport { Field, Participant } from \"../System/Models/Participant\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class VisitorDetail extends Component {\n  constructor(props) {\n    var _this$props$defaultEx;\n\n    super(props);\n    this.participant = void 0;\n    this.onToggle = this.onToggle.bind(this);\n    this.onNameChanged = this.onNameChanged.bind(this);\n    this.onLastNameChanged = this.onLastNameChanged.bind(this);\n    this.onEmailChanged = this.onEmailChanged.bind(this);\n    this.onMobileChanged = this.onMobileChanged.bind(this);\n    this.state = {\n      isExpanded: (_this$props$defaultEx = this.props.defaultExpanded) !== null && _this$props$defaultEx !== void 0 ? _this$props$defaultEx : false,\n      nameValidated: false,\n      lastNameValidated: false,\n      emailValidated: this.props.visitorIndex === 0 ? false : true,\n      name: \"\",\n      lastName: \"\",\n      email: \"\",\n      mobile: \"\"\n    };\n  }\n\n  render() {\n    let animClass = this.state.isExpanded ? \" rotated\" : \"\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"visitor-detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header legend\",\n        onClick: this.onToggle,\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"h-5 leading-5\",\n          children: [\"Visitor \", this.props.visitorIndex + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MdExpandMore, {\n          className: \"h-5 leading-5 rotable\" + animClass,\n          size: \"20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), this.state.isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"expanding-con border-t p-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vd-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-bold text-xs\",\n            children: \"First Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-con flex flex-row justify-start items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-2\",\n              children: /*#__PURE__*/_jsxDEV(FaAsterisk, {\n                size: \"6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vr\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"h-6 leading-6\",\n              type: \"text\",\n              minLength: 1,\n              required: true,\n              maxLength: 500,\n              value: this.state.name,\n              onChange: event => this.onNameChanged(event)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vd-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-bold text-xs\",\n            children: \"Last Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-con flex flex-row justify-start items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-2\",\n              children: /*#__PURE__*/_jsxDEV(FaAsterisk, {\n                size: \"6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vr\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"h-6 leading-6\",\n              type: \"text\",\n              maxLength: 500,\n              value: this.state.lastName,\n              onChange: this.onLastNameChanged\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vd-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-bold text-xs\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), this.props.visitorIndex === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-con flex flex-row justify-start items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-2\",\n              children: /*#__PURE__*/_jsxDEV(FaAsterisk, {\n                size: \"6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vr\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"h-6 leading-6\",\n              type: \"email\",\n              maxLength: 500,\n              value: this.state.email,\n              onChange: this.onEmailChanged\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-con flex flex-row justify-start items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"h-6 leading-6\",\n              type: \"email\",\n              value: this.state.email,\n              maxLength: 500,\n              onChange: this.onEmailChanged\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vd-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-bold text-xs\",\n            children: \"Mobile:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-con flex flex-row justify-start items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              datatype: \"\",\n              className: \"h-6 leading-6\",\n              type: \"text\",\n              value: this.state.mobile,\n              maxLength: 500,\n              onChange: this.onMobileChanged\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n\n  onToggle() {\n    this.setState({\n      isExpanded: !this.state.isExpanded\n    });\n  }\n\n  onNameChanged(event) {\n    this.setState({\n      name: event.target.value,\n      nameValidated: event.target.value.length > 0\n    }, this.checkOnValidated);\n  }\n\n  onLastNameChanged(event) {\n    this.setState({\n      lastName: event.target.value,\n      lastNameValidated: event.target.value.length > 0\n    }, this.checkOnValidated);\n  }\n\n  onEmailChanged(event) {\n    this.setState({\n      email: event.target.value,\n      emailValidated: this.props.visitorIndex === 0 ? event.target.value.length > 0 && event.target.validity.valid : true\n    }, this.checkOnValidated);\n  }\n\n  onMobileChanged(event) {\n    this.setState({\n      mobile: event.target.value\n    }, this.checkOnValidated);\n  }\n\n  getParticipantData() {\n    if (this.participant == null) this.participant = new Participant();\n    this.participant.fields = [];\n    let nameField = new Field();\n    nameField.label = \"First Name\";\n    nameField.value = this.state.name;\n    let lastNameField = new Field();\n    lastNameField.label = \"Last Name\";\n    lastNameField.value = this.state.lastName;\n    let emailField = new Field();\n    emailField.label = \"Email\";\n    emailField.value = this.state.email;\n    let mobileField = new Field();\n    mobileField.label = \"Mobile\";\n    mobileField.value = this.state.mobile;\n    let tourguideField = new Field();\n    tourguideField.label = \"Tour Guide Language\";\n    tourguideField.value = \"\";\n    this.participant.fields.push(nameField);\n    this.participant.fields.push(lastNameField);\n    this.participant.fields.push(emailField);\n    this.participant.fields.push(mobileField);\n    this.participant.fields.push(tourguideField);\n    return this.participant;\n  }\n\n  checkOnValidated() {\n    this.props.dataChanged(this.props.visitorIndex, this.getParticipantData());\n    if (this.props.visitorIndex > 0) this.props.validationChanged(\"vd-\" + this.props.visitorIndex, true);else {\n      if (this.state.nameValidated && this.state.lastNameValidated && this.state.emailValidated) this.props.validationChanged(\"vd-\" + this.props.visitorIndex, true);else this.props.validationChanged(\"vd-\" + this.props.visitorIndex, false);\n    }\n  }\n\n}","map":{"version":3,"sources":["/run/media/pearlquest/DATA/rezdyV2/rezdy-ksa/src/Components/VisitorDetail.tsx"],"names":["React","Component","MdExpandMore","FaAsterisk","Field","Participant","VisitorDetail","constructor","props","participant","onToggle","bind","onNameChanged","onLastNameChanged","onEmailChanged","onMobileChanged","state","isExpanded","defaultExpanded","nameValidated","lastNameValidated","emailValidated","visitorIndex","name","lastName","email","mobile","render","animClass","event","setState","target","value","length","checkOnValidated","validity","valid","getParticipantData","fields","nameField","label","lastNameField","emailField","mobileField","tourguideField","push","dataChanged","validationChanged"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { MdExpandMore } from \"react-icons/md\";\nimport { FaAsterisk } from \"react-icons/fa\";\nimport { Field, Participant } from \"../System/Models/Participant\";\n\ninterface IProps {\n  defaultExpanded?: boolean;\n  visitorIndex: number;\n  validationChanged(key: string, value: boolean): void;\n  dataChanged(index: number, participant: Participant): void;\n}\n\ninterface IState {\n  isExpanded: boolean;\n  nameValidated: boolean;\n  lastNameValidated: boolean;\n  emailValidated: boolean;\n  name: string;\n  lastName: string;\n  email: string;\n  mobile: string;\n}\n\nexport class VisitorDetail extends Component<IProps, IState> {\n  private participant?: Participant;\n\n  constructor(props: IProps) {\n    super(props);\n\n    this.onToggle = this.onToggle.bind(this);\n    this.onNameChanged = this.onNameChanged.bind(this);\n    this.onLastNameChanged = this.onLastNameChanged.bind(this);\n    this.onEmailChanged = this.onEmailChanged.bind(this);\n    this.onMobileChanged = this.onMobileChanged.bind(this);\n\n    this.state = {\n      isExpanded: this.props.defaultExpanded ?? false,\n      nameValidated: false,\n      lastNameValidated: false,\n      emailValidated: this.props.visitorIndex === 0 ? false : true,\n      name: \"\",\n      lastName: \"\",\n      email: \"\",\n      mobile: \"\",\n    };\n  }\n\n  render() {\n    let animClass = this.state.isExpanded ? \" rotated\" : \"\";\n\n    return (\n      <div className=\"visitor-detail\">\n        <div className=\"header legend\" onClick={this.onToggle}>\n          <h4 className=\"h-5 leading-5\">\n            Visitor {this.props.visitorIndex + 1}\n          </h4>\n          <MdExpandMore\n            className={\"h-5 leading-5 rotable\" + animClass}\n            size=\"20\"\n          />\n        </div>\n        {this.state.isExpanded && (\n          <div className=\"expanding-con border-t p-2\">\n            <div className=\"vd-row\">\n              <label className=\"font-bold text-xs\">First Name:</label>\n              <div className=\"input-con flex flex-row justify-start items-center\">\n                <span className=\"px-2\">\n                  <FaAsterisk size=\"6\" />\n                </span>\n                <div className=\"vr\"></div>\n                <input\n                  className=\"h-6 leading-6\"\n                  type=\"text\"\n                  minLength={1}\n                  required\n                  maxLength={500}\n                  value={this.state.name}\n                  onChange={(event) => this.onNameChanged(event)}\n                />\n              </div>\n            </div>\n            <div className=\"vd-row\">\n              <label className=\"font-bold text-xs\">Last Name:</label>\n              <div className=\"input-con flex flex-row justify-start items-center\">\n                <span className=\"px-2\">\n                  <FaAsterisk size=\"6\" />\n                </span>\n                <div className=\"vr\"></div>\n                <input\n                  className=\"h-6 leading-6\"\n                  type=\"text\"\n                  maxLength={500}\n                  value={this.state.lastName}\n                  onChange={this.onLastNameChanged}\n                />\n              </div>\n            </div>\n            <div className=\"vd-row\">\n              <label className=\"font-bold text-xs\">Email:</label>\n              {this.props.visitorIndex === 0 ? (\n                <div className=\"input-con flex flex-row justify-start items-center\">\n                  <span className=\"px-2\">\n                    <FaAsterisk size=\"6\" />\n                  </span>\n                  <div className=\"vr\"></div>\n\n                  <input\n                    className=\"h-6 leading-6\"\n                    type=\"email\"\n                    maxLength={500}\n                    value={this.state.email}\n                    onChange={this.onEmailChanged}\n                  />\n                </div>\n              ) : (\n                <div className=\"input-con flex flex-row justify-start items-center\">\n                  <input\n                    className=\"h-6 leading-6\"\n                    type=\"email\"\n                    value={this.state.email}\n                    maxLength={500}\n                    onChange={this.onEmailChanged}\n                  />\n                </div>\n              )}\n            </div>\n            <div className=\"vd-row\">\n              <label className=\"font-bold text-xs\">Mobile:</label>\n              <div className=\"input-con flex flex-row justify-start items-center\">\n                <input\n                  datatype=\"\"\n                  className=\"h-6 leading-6\"\n                  type=\"text\"\n                  value={this.state.mobile}\n                  maxLength={500}\n                  onChange={this.onMobileChanged}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  onToggle() {\n    this.setState({\n      isExpanded: !this.state.isExpanded,\n    });\n  }\n\n  onNameChanged(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState(\n      {\n        name: event.target.value,\n        nameValidated: event.target.value.length > 0,\n      },\n      this.checkOnValidated\n    );\n  }\n\n  onLastNameChanged(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState(\n      {\n        lastName: event.target.value,\n        lastNameValidated: event.target.value.length > 0,\n      },\n      this.checkOnValidated\n    );\n  }\n\n  onEmailChanged(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState(\n      {\n        email: event.target.value,\n        emailValidated:\n          this.props.visitorIndex === 0\n            ? event.target.value.length > 0 && event.target.validity.valid\n            : true,\n      },\n      this.checkOnValidated\n    );\n  }\n\n  onMobileChanged(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState(\n      {\n        mobile: event.target.value,\n      },\n      this.checkOnValidated\n    );\n  }\n\n  getParticipantData(): Participant {\n    if (this.participant == null) this.participant = new Participant();\n\n    this.participant.fields = [];\n    let nameField = new Field();\n    nameField.label = \"First Name\";\n    nameField.value = this.state.name;\n\n    let lastNameField = new Field();\n    lastNameField.label = \"Last Name\";\n    lastNameField.value = this.state.lastName;\n\n    let emailField = new Field();\n    emailField.label = \"Email\";\n    emailField.value = this.state.email;\n\n    let mobileField = new Field();\n    mobileField.label = \"Mobile\";\n    mobileField.value = this.state.mobile;\n\n    let tourguideField = new Field();\n    tourguideField.label = \"Tour Guide Language\";\n    tourguideField.value = \"\";\n\n    this.participant.fields.push(nameField);\n    this.participant.fields.push(lastNameField);\n    this.participant.fields.push(emailField);\n    this.participant.fields.push(mobileField);\n    this.participant.fields.push(tourguideField);\n\n    return this.participant;\n  }\n\n  checkOnValidated() {\n    this.props.dataChanged(this.props.visitorIndex, this.getParticipantData());\n\n    if (this.props.visitorIndex > 0)\n      this.props.validationChanged(\"vd-\" + this.props.visitorIndex, true);\n    else {\n      if (\n        this.state.nameValidated &&\n        this.state.lastNameValidated &&\n        this.state.emailValidated\n      )\n        this.props.validationChanged(\"vd-\" + this.props.visitorIndex, true);\n      else this.props.validationChanged(\"vd-\" + this.props.visitorIndex, false);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}